{% extends "base.html" %}

{% block title %}在庫一覧{% endblock %}

{% block content %}
  <h1>在庫一覧</h1>

  {% for item in items %}
  <div class="item-card">
    <div class="item-name">{{ item.name }}</div>
    <div class="quantity {% if item.quantity < item.min_quantity %}low-stock{% endif %}">
      在庫数：{{ item.quantity }} {{ item.unit }}
    </div>
    <div class="quantity">仕入れ先：{{ item.supplier }}</div>
    <div class="button-group">
      <form method="POST" action="/update_quantity/{{ item.id }}/minus">
        <button type="submit" class="minus">－</button>
      </form>
      <form method="POST" action="/update_quantity/{{ item.id }}/plus">
        <button type="submit">＋</button>
      </form>
    </div>
    <form method="POST" action="/delete_item/{{ item.id }}" 
          onsubmit="return confirm('削除しますか？');"
          style="text-align:center; margin-top:10px;">
      <button type="submit" class="minus">削除</button>
    </form>
  </div>
  {% endfor %}
{% endblock %}
